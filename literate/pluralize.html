<!DOCTYPE html>
<html manifest="pandoc-template.appcache">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="date" content="☕" />
  <title>Pluralize — Smooth CoffeeScript</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
/*<![CDATA[*/
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre 
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
code.sourceCode span.kw { color: #007020; font-weight: bold; } 
code.sourceCode span.dt { color: #902000; }
code.sourceCode span.dv { color: #40a070; }
code.sourceCode span.bn { color: #40a070; }
code.sourceCode span.fl { color: #40a070; }
code.sourceCode span.ch { color: #4070a0; }
code.sourceCode span.st { color: #4070a0; }
code.sourceCode span.co { color: #60a0b0; font-style: italic; }
code.sourceCode span.ot { color: #007020; }
code.sourceCode span.al { color: red; font-weight: bold; }
code.sourceCode span.fu { color: #06287e; }
code.sourceCode span.re { }
code.sourceCode span.er { color: red; font-weight: bold; }
/*]]>*/
  </style>
  <link rel="stylesheet" href="pandoc-template.css" />
</head>
<body>
<div class="rdbWrapper" data-show-read="1" data-show-send-to-kindle="1" data-show-print="1" data-show-email="1" data-orientation="0" data-version="1" data-bg-color="#fffce6"></div><script type="text/javascript">(function() {var s = document.getElementsByTagName("script")[0],rdb = document.createElement("script"); rdb.type = "text/javascript"; rdb.async = true; rdb.src = document.location.protocol + "//www.readability.com/embed.js"; s.parentNode.insertBefore(rdb, s); })();</script>
<div id="feature-detect">
  <div id="feature-javascript" style="color:#FF0000; display: block">
No JavaScript &rarr; no output and no interactivity.  </div>
  <div id="feature-mathml" style="color:#FF0000; display: none">
No MathML 1998 &rarr; math is not readable.  </div>
  <div id="feature-canvas" style="color:#FF0000; display: none">
No Canvas &rarr; graphical output is not rendered.  </div>
  <div id="feature-contenteditable" style="color:#FF0000; display: none">
No ContentEditable &rarr; CoffeeScript sections can not be changed.  </div>
</div>
<input class="field" type="button" value="Limit Width" onclick="(function () {
        var _ref;
        _ref = document.getElementById('page').style.maxWidth === '' ? ['600px', 'Allow Freeflow'] : ['', 'Limit Width'], document.getElementById('page').style.maxWidth = _ref[0], this.value = _ref[1];
      }).call(this);" />
<script src="node_modules/coffee-script.js"></script>
<script src="node_modules/coffeekup.js"></script>
<script src="node_modules/underscore.js"></script>
<script src="node_modules/underscore.string.js"></script>
<script src="node_modules/qc.js"></script>
<script>var __slice = Array.prototype.slice;var __hasProp = Object.prototype.hasOwnProperty;var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };var __extends = function(child, parent) {  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }  function ctor() { this.constructor = child; }  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;  return child; };var __indexOf = Array.prototype.indexOf || function(item) {  for (var i = 0, l = this.length; i < l; i++) {    if (this[i] === item) return i;  } return -1; };(function () {
      var featureDetect;
      this.reveal = function(parent) {
        return parent.getElementsByTagName('code')[0].style.display = 'block';
      };
      featureDetect = function() {
        var mathmlDetect, used, _ref, _ref2, _ref3, _ref4;
        mathmlDetect = function() {
          var e, passed;
          (e = document.createElement('div')).innerHTML = '<math></math>';
          passed = e.firstChild && 'namespaceURI' in e.firstChild && e.firstChild.namespaceURI === 'http://www.w3.org/1998/Math/MathML';
          return passed && !/Chrome/.test(navigator.userAgent);
        };
        if ((_ref = document.getElementById('feature-javascript')) != null) {
          _ref.style.display = "none";
        }
        used = (document.getElementsByTagName('math')) != null;
        if (used && mathmlDetect() === false) {
          if ((_ref2 = document.getElementById('feature-mathml')) != null) {
            _ref2.style.display = "block";
          }
        }
        if (document.createElement('canvas').getContext == null) {
          if ((_ref3 = document.getElementById('feature-canvas')) != null) {
            _ref3.style.display = "block";
          }
        }
        if (!('isContentEditable' in document.documentElement)) {
          return (_ref4 = document.getElementById('feature-contenteditable')) != null ? _ref4.style.display = "block" : void 0;
        }
      };
      window.onload = function() {
        var canvas, delayedEvaluation, evaluateSource, segment, _i, _len, _ref;
        featureDetect();
        canvas = document.getElementById('drawCanvas');
        if (canvas != null) window.ctx = canvas.getContext('2d');
        evaluateSource = function() {
          var HtmlListener, addElement, addErrorElement, addFrame, code, codeSegment, codeTag, draw, elem, getParent, i, qcConfig, segment, segments, separator, show, showDocument, test, testPure, _i, _len, _len2;
          if (window.ctx != null) {
            window.ctx.clearRect(0, 0, window.ctx.canvas.width, window.ctx.canvas.height);
          }
          getParent = function(child) {
            var _ref;
            return (_ref = child != null ? child.parentElement : void 0) != null ? _ref : child != null ? child.parentNode : void 0;
          };
          elem = window.document.getElementsByClassName('output')[0];
          while (elem != null) {
            getParent(elem).removeChild(elem);
            elem = window.document.getElementsByClassName('output')[0];
          }
          addElement = function(parent, text) {
            var newelem;
            newelem = document.createElement('code');
            newelem.setAttribute('class', 'sourceCode output');
            newelem.innerHTML = text;
            return parent.appendChild(newelem);
          };
          separator = function(parent) {
            if (parent.getElementsByClassName('output').length === 0) {
              return addElement(parent, '<hr><br>');
            }
          };
          addErrorElement = function(text) {
            var parentTag;
            parentTag = getParent(codeTag);
            separator(parentTag);
            return addElement(parentTag, "<span class=\"er\">" + text + "</span>");
          };
          show = function(msg) {
            var parentTag;
            parentTag = getParent(codeTag);
            separator(parentTag);
            addElement(parentTag, "&rarr; " + msg + "<br>");
            return msg;
          };
          addFrame = function(parent, width, height, content) {
            var newelem;
            newelem = document.createElement('iframe');
            newelem.setAttribute('class', 'output');
            newelem.setAttribute('width', width);
            newelem.setAttribute('height', height);
            newelem.setAttribute('src', "data:text/html;charset=utf-8," + (encodeURIComponent(content)));
            newelem.innerHTML = '<div id="feature-dataurl" style="color:#FF0000; display: block">\nNo or insufficient Data URL support &rarr;\nweb page output is not rendered in this browser.</div>';
            return parent.appendChild(newelem);
          };
          showDocument = function(content, width, height) {
            var parentTag;
            if (width == null) width = 300;
            if (height == null) height = 300;
            parentTag = getParent(codeTag);
            separator(parentTag);
            return addFrame(parentTag, width, height, content);
          };
          HtmlListener = (function(_super) {

            __extends(HtmlListener, _super);

            function HtmlListener(maxCollected) {
              this.maxCollected = maxCollected != null ? maxCollected : 10;
            }

            HtmlListener.prototype.log = function(str) {
              return show(str);
            };

            HtmlListener.prototype.passed = function(str) {
              return show("<span class=\"kw\">" + str + "</span>");
            };

            HtmlListener.prototype.invalid = function(str) {
              return show("<span class=\"dt\">" + str + "</span>");
            };

            HtmlListener.prototype.failure = function(str) {
              return show("<span class=\"al\">" + str + "</span>");
            };

            HtmlListener.prototype.done = function() {
              show('Completed test.');
              return resetProps();
            };

            return HtmlListener;

          })(ConsoleListener);
          Case.prototype.note = function(a) {
            this.noteArg(a);
            return a;
          };
          Case.prototype.noteVerbose = function(a) {
            this.noteArg(a);
            show(this.args);
            return a;
          };
          testPure = function(func, types, name, property) {
            return declare(name, types, function() {
              var a, c;
              c = arguments[0], a = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
              return c.assert(property.apply(null, [c].concat(__slice.call(a), [c.note(func.apply(null, a))])));
            });
          };
          qcConfig = new Config(100, 1000);
          test = function(msg, func) {
            return _.each([msg, func, runAllProps(qcConfig, new HtmlListener)], function(o) {
              if (!_.isUndefined(o)) return show(o);
            });
          };
          segments = (function() {
            var _i, _len, _ref, _results;
            _ref = document.getElementsByTagName('pre');
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
              codeSegment = _ref[_i];
              if (codeSegment.className === 'sourceCode') {
                codeTag = codeSegment.getElementsByTagName('code')[0];
                if (codeTag.className === 'sourceCode coffeescript' || codeTag.className === 'sourceCode CoffeeScript') {
                  segment = codeTag.innerHTML;
                  code = segment.replace(/<br>/g, '\n');
                  code = code.replace(/<[^>]*>/g, '');
                  code = code.replace(/[&]gt;/g, '>');
                  code = code.replace(/[&]lt;/g, '<');
                  code = code.replace(/[&]nbsp;/g, ' ');
                  _results.push({
                    codeTag: codeTag,
                    code: code
                  });
                } else {
                  _results.push(void 0);
                }
              } else {
                _results.push(void 0);
              }
            }
            return _results;
          })();
          segments = (function() {
            var _i, _len, _results;
            _results = [];
            for (_i = 0, _len = segments.length; _i < _len; _i++) {
              segment = segments[_i];
              if (segment != null) _results.push(segment);
            }
            return _results;
          })();
          for (i = 0, _len = segments.length; i < _len; i++) {
            segment = segments[i];
            if (i > 0 && /^[\s]/.test(segment.code)) {
              segment.code = segments[i - 1].code + '\n' + segment.code;
              segments[i - 1] = void 0;
            }
          }
          segments = (function() {
            var _i, _len2, _results;
            _results = [];
            for (_i = 0, _len2 = segments.length; _i < _len2; _i++) {
              segment = segments[_i];
              if (segment != null) _results.push(segment);
            }
            return _results;
          })();
          for (_i = 0, _len2 = segments.length; _i < _len2; _i++) {
            segment = segments[_i];
            codeTag = segment.codeTag;
            try {
              draw = void 0;
              eval(CoffeeScript.compile(segment.code, {
                bare: true
              }));
              if (draw != null) draw(window.ctx);
            } catch (error) {
              addErrorElement(error);
              return;
            }
          }
        };
        delayedEvaluation = _.throttle(evaluateSource, 100);
        _ref = document.getElementsByTagName('pre');
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          segment = _ref[_i];
          segment.getElementsByTagName('code')[0].addEventListener('keyup', delayedEvaluation, false);
          segment.getElementsByTagName('code')[0].addEventListener('focus', (function() {
            return this.innerHTML = this.innerHTML.toString().replace(/<span[^>]*>/g, '');
          }), false);
        }
        return evaluateSource();
      };
      return window.ostrich = 'data:image/png;base64,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';
    }).call(this);</script>

<div id="page">
<header>
<h1 class="title">Pluralize — <em><a href="http://autotelicum.github.com/Smooth-CoffeeScript/">Smooth CoffeeScript</a></em></h1>
<h4 class="date">☕</h4>
</header>
<blockquote>
<p>This literate program is <em>interactive</em> in its HTML form. Edit a CoffeeScript segment to try it. You can see the generated JavaScript as you modify a CoffeeScript function by typing ‘show name’ after its definition.</p>
</blockquote>
<h2 id="pluralize">Pluralize</h2>
<p><strong>How do you add ’s’ to a word when there is more than one of something?</strong></p>
<p>It is often seen in JavaScript with the ternary operator <code>?:</code> but that is hard-coding at the expense of future maintenance and internationalization.</p>
<p>First some preliminaries. Let’s <code>show</code> the results whether we are running in a server or a web client. Something like <code>show = if exports? then console.log else alert</code>. And wrap the different methods in a <code>test</code> function so we can see if they work.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="kw">=</span> <span class="fu">(func) -&gt;</span><br />  <span class="kw">for</span> points <span class="kw">in</span> <span class="kw">[-</span><span class="dv">3</span><span class="kw">..</span><span class="dv">3</span><span class="kw">]</span><br />    func points</code></pre>
<h2 id="readable-ways">Readable ways</h2>
<p>The simplest readable way</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;0: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>if points &gt; 1 then 's' else ''<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Encapsulate in a function, future i18n will be easier</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  pluralIf <span class="kw">=</span> <span class="fu">(stem, cond) -&gt;</span> stem <span class="kw">+</span> <span class="kw">(</span><span class="kw">if</span> cond <span class="kw">then</span> <span class="st">'s'</span> <span class="kw">else</span> <span class="st">''</span><span class="kw">)</span><br />  show <span class="st">&quot;1: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> </span><span class="ch">#{</span>pluralIf 'point', points &gt; 1<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Encapsulate in a function, handle negative numbers</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  pluralUnless <span class="kw">=</span> <span class="fu">(stem, cond) -&gt;</span> stem <span class="kw">+</span> <span class="kw">(</span><span class="kw">unless</span> cond <span class="kw">then</span> <span class="st">'s'</span> <span class="kw">else</span> <span class="st">''</span><span class="kw">)</span><br />  show <span class="st">&quot;2: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> </span><span class="ch">#{</span>pluralUnless 'point', -2 &lt; points &lt; 2<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Encapsulate in a String method, could collide with another definition</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  <span class="ot">String</span><span class="kw">::</span>pluralIf <span class="kw">?=</span> <span class="fu">(cond) -&gt;</span> <span class="dt">this</span> <span class="kw">+</span> <span class="kw">(</span><span class="kw">if</span> cond <span class="kw">then</span> <span class="st">'s'</span> <span class="kw">else</span> <span class="st">''</span><span class="kw">)</span><br />  show <span class="st">&quot;3: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> </span><span class="ch">#{</span>'point'.pluralIf points &gt; 1<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<h2 id="tricks">Tricks</h2>
<p>Use the existential operator to catch the singular undefined</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;4: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>('s' if points &gt; 1) ? ''<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Convert the condition to a number and do an array lookup</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;5: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>['','s'][+(points &gt; 1)]<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Use the inverted condition to ask for a letter.</p>
<p><code>true =&gt; charAt 1 =&gt; ''</code> — <code>false =&gt; charAt 0 =&gt; 's'</code></p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;6: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>'s'.charAt points &lt;= 1<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Create an array whose length is determined by the condition. It consists of empty elements so join it with ’s’</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;7: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>Array(1+(points&gt;1)).join 's'<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<p>Concatenate to an empty array, undefined does nothing</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;8: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>[].concat ('s' if points &gt; 1)<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<h2 id="contributed">Contributed</h2>
<p>Create an array with either ’s’ or undefined — from <a href="https://gist.github.com/satyr">satyr</a></p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">test <span class="fu">(points) -&gt;</span><br />  show <span class="st">&quot;9: You got </span><span class="ch">#{</span>points<span class="ch">}</span><span class="st"> point</span><span class="ch">#{</span>['s' if points &gt; 1]<span class="ch">}</span><span class="st">&quot;</span></code></pre>
<hr />
<p> </p>
<p> </p>
<p></p>
<p>Formats <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/pluralize.coffee">CoffeeScript</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/pluralize.md">Markdown</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/pluralize.pdf">PDF</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/pluralize.html">HTML</a></p>
<p>License <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a> by autotelicum © 2554/2011</p>
<!--
Commands used to extract code, execute it, and to format this document:

Edit ,x/^~~+[   ]*{\.[cC]offee[sS]cript.*}$/+,/^~~+$/-p
Edit ,>ssam -n 'x/^~~+[   ]*{\.[cC]offee[sS]cript.*}$/+,/^~~+$/-' |cat embed-standalone.coffee - |tee pluralize.coffee | coffee -cs >pluralize.js; coffee pluralize.coffee >pluralize.output; plumb pluralize.output
Edit ,>pandoc -f markdown -t html -S -5 --mathml --css pandoc-template.css --template pandoc-template.html -B embed-readability.html -B embed-literate.html | ssam 's/(<code class="sourceCode coffeescript" contenteditable="true" spellcheck="false")/\1 contenteditable=\"true\" spellcheck=\"false\"/g' | ssam 's/(<pre class="sourceCode")><(code class="sourceCode CoffeeScript")/\1 onclick=\"reveal(this)\" ><b><u>Solution<\/u><\/b><br\/><\2 contenteditable=\"true\" spellcheck=\"false\" style=\"display:none\" \"/g' | ssam 's/<img src=\"[^\"]+\" alt=\"[^\"]+\" \/>/<canvas id=\"drawCanvas\" width=\"0\" height=\"0\"><\/canvas>/' >pluralize.html; open pluralize.html; plumb pluralize.html
Edit ,>markdown2pdf --listings --xetex '--template=pandoc-template.tex' -o pluralize.pdf; open pluralize.pdf

To execute these commands; middle-button select them in the acme environment.
acme and ssam are part of the plan9 OS and can run on *nix variants via plan9port.
The formatting is done with pandoc, a universal markup converter, and TeX.
-->

</body>
</html>