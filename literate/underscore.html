<!DOCTYPE html>
<html manifest="pandoc-template.appcache">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="date" content="☕" />
  <title>Underscore Reference — Smooth CoffeeScript</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
/*<![CDATA[*/
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre 
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
code.sourceCode span.kw { color: #007020; font-weight: bold; } 
code.sourceCode span.dt { color: #902000; }
code.sourceCode span.dv { color: #40a070; }
code.sourceCode span.bn { color: #40a070; }
code.sourceCode span.fl { color: #40a070; }
code.sourceCode span.ch { color: #4070a0; }
code.sourceCode span.st { color: #4070a0; }
code.sourceCode span.co { color: #60a0b0; font-style: italic; }
code.sourceCode span.ot { color: #007020; }
code.sourceCode span.al { color: red; font-weight: bold; }
code.sourceCode span.fu { color: #06287e; }
code.sourceCode span.re { }
code.sourceCode span.er { color: red; font-weight: bold; }
/*]]>*/
  </style>
  <link rel="stylesheet" href="pandoc-template.css" />
</head>
<body>
<div class="rdbWrapper" data-show-read="1" data-show-send-to-kindle="1" data-show-print="1" data-show-email="1" data-orientation="0" data-version="1" data-bg-color="#fffce6"></div><script type="text/javascript">(function() {var s = document.getElementsByTagName("script")[0],rdb = document.createElement("script"); rdb.type = "text/javascript"; rdb.async = true; rdb.src = document.location.protocol + "//www.readability.com/embed.js"; s.parentNode.insertBefore(rdb, s); })();</script>
<div id="feature-detect">
  <div id="feature-javascript" style="color:#FF0000; display: block">
No JavaScript &rarr; no output and no interactivity.  </div>
  <div id="feature-mathml" style="color:#FF0000; display: none">
No MathML 1998 &rarr; math is not readable.  </div>
  <div id="feature-canvas" style="color:#FF0000; display: none">
No Canvas &rarr; graphical output is not rendered.  </div>
  <div id="feature-contenteditable" style="color:#FF0000; display: none">
No ContentEditable &rarr; CoffeeScript sections can not be changed.  </div>
</div>
<input class="field" type="button" value="Adjust layout" onclick="(function () {
        return this.value = toggleLayout() ? 'Allow freeflow' : 'Use fixed width';
      }).call(this);" />
<script src="node_modules/coffee-script.js"></script>
<script src="node_modules/coffeekup.js"></script>
<script src="node_modules/underscore.js"></script>
<script src="node_modules/underscore.string.js"></script>
<script src="node_modules/qc.js"></script>
<script>var __slice = Array.prototype.slice;var __hasProp = Object.prototype.hasOwnProperty;var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };var __extends = function(child, parent) {  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }  function ctor() { this.constructor = child; }  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;  return child; };var __indexOf = Array.prototype.indexOf || function(item) {  for (var i = 0, l = this.length; i < l; i++) {    if (this[i] === item) return i;  } return -1; };(function () {
      var featureDetect, switchLayout;
      this.reveal = function(parent) {
        return parent.getElementsByTagName('code')[0].style.display = 'block';
      };
      this.toggleLayout = function() {
        var fixedLayout;
        fixedLayout = document.getElementById('page').style.maxWidth === '';
        if (typeof localStorage !== "undefined" && localStorage !== null) {
          localStorage.fixedLayout = fixedLayout;
        }
        return switchLayout(fixedLayout);
      };
      switchLayout = function(fixedLayout) {
        var s;
        document.getElementById('page').style.maxWidth = fixedLayout ? '600px' : '';
        s = document.getElementById('page').style;
        if (fixedLayout) {
          s.webkitHyphens = 'auto';
          s.mozHyphens = 'auto';
          s.msHyphens = 'auto';
          s.hyphens = 'auto';
          s.textAlign = 'justify';
        } else {
          s.webkitHyphens = '';
          s.mozHyphens = '';
          s.msHyphens = '';
          s.hyphens = '';
          s.textAlign = '';
        }
        return fixedLayout;
      };
      featureDetect = function() {
        var mathmlDetect, used, _ref, _ref2, _ref3, _ref4, _ref5;
        mathmlDetect = function() {
          var e, passed;
          (e = document.createElement('div')).innerHTML = '<math></math>';
          passed = e.firstChild && 'namespaceURI' in e.firstChild && e.firstChild.namespaceURI === 'http://www.w3.org/1998/Math/MathML';
          return passed && !/Chrome/.test(navigator.userAgent);
        };
        if ((_ref = document.getElementById('feature-javascript')) != null) {
          _ref.style.display = "none";
        }
        used = ((_ref2 = document.getElementsByTagName('math')) != null ? _ref2.length : void 0) > 0;
        if (used && mathmlDetect() === false) {
          if ((_ref3 = document.getElementById('feature-mathml')) != null) {
            _ref3.style.display = "block";
          }
        }
        if (document.createElement('canvas').getContext == null) {
          if ((_ref4 = document.getElementById('feature-canvas')) != null) {
            _ref4.style.display = "block";
          }
        }
        if (!('isContentEditable' in document.documentElement)) {
          return (_ref5 = document.getElementById('feature-contenteditable')) != null ? _ref5.style.display = "block" : void 0;
        }
      };
      window.onload = function() {
        var canvas, delayedEvaluation, evaluateSource, segment, _i, _len, _ref;
        featureDetect();
        if ((typeof localStorage !== "undefined" && localStorage !== null ? localStorage.fixedLayout : void 0) !== 'false') {
          switchLayout(true);
        }
        canvas = document.getElementById('drawCanvas');
        if (canvas != null) window.ctx = canvas.getContext('2d');
        evaluateSource = function() {
          var HtmlListener, addElement, addErrorElement, addFrame, code, codeSegment, codeTag, draw, elem, getParent, i, qcConfig, segment, segments, separator, show, showDocument, test, testPure, _i, _len, _len2;
          if (window.ctx != null) {
            window.ctx.clearRect(0, 0, window.ctx.canvas.width, window.ctx.canvas.height);
          }
          getParent = function(child) {
            var _ref;
            return (_ref = child != null ? child.parentElement : void 0) != null ? _ref : child != null ? child.parentNode : void 0;
          };
          elem = window.document.getElementsByClassName('output')[0];
          while (elem != null) {
            getParent(elem).removeChild(elem);
            elem = window.document.getElementsByClassName('output')[0];
          }
          addElement = function(parent, text) {
            var newelem;
            newelem = document.createElement('code');
            newelem.setAttribute('class', 'sourceCode output');
            newelem.innerHTML = text;
            return parent.appendChild(newelem);
          };
          separator = function(parent) {
            if (parent.getElementsByClassName('output').length === 0) {
              return addElement(parent, '<hr><br>');
            }
          };
          addErrorElement = function(text) {
            var parentTag;
            parentTag = getParent(codeTag);
            separator(parentTag);
            return addElement(parentTag, "<span class=\"er\">" + text + "</span>");
          };
          show = function(msg) {
            var parentTag;
            parentTag = getParent(codeTag);
            separator(parentTag);
            addElement(parentTag, "&rarr; " + msg + "<br>");
            return msg;
          };
          addFrame = function(parent, width, height, content) {
            var newelem;
            newelem = document.createElement('iframe');
            newelem.setAttribute('class', 'output');
            newelem.setAttribute('width', width);
            newelem.setAttribute('height', height);
            newelem.setAttribute('src', "data:text/html;charset=utf-8," + (encodeURIComponent(content)));
            newelem.innerHTML = '<div id="feature-dataurl" style="color:#FF0000; display: block">\nNo or insufficient Data URL support &rarr;\nweb page output is not rendered in this browser.</div>';
            return parent.appendChild(newelem);
          };
          showDocument = function(content, width, height) {
            var parentTag;
            if (width == null) width = 300;
            if (height == null) height = 300;
            parentTag = getParent(codeTag);
            separator(parentTag);
            return addFrame(parentTag, width, height, content);
          };
          HtmlListener = (function(_super) {

            __extends(HtmlListener, _super);

            function HtmlListener(maxCollected) {
              this.maxCollected = maxCollected != null ? maxCollected : 10;
            }

            HtmlListener.prototype.log = function(str) {
              return show(str);
            };

            HtmlListener.prototype.passed = function(str) {
              return show("<span class=\"kw\">" + str + "</span>");
            };

            HtmlListener.prototype.invalid = function(str) {
              return show("<span class=\"dt\">" + str + "</span>");
            };

            HtmlListener.prototype.failure = function(str) {
              return show("<span class=\"al\">" + str + "</span>");
            };

            HtmlListener.prototype.done = function() {
              show('Completed test.');
              return resetProps();
            };

            return HtmlListener;

          })(ConsoleListener);
          Case.prototype.note = function(a) {
            this.noteArg(a);
            return a;
          };
          Case.prototype.noteVerbose = function(a) {
            this.noteArg(a);
            show(this.args);
            return a;
          };
          testPure = function(func, types, name, property) {
            return declare(name, types, function() {
              var a, c;
              c = arguments[0], a = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
              return c.assert(property.apply(null, [c].concat(__slice.call(a), [c.note(func.apply(null, a))])));
            });
          };
          qcConfig = new Config(100, 1000);
          test = function(msg, func) {
            return _.each([msg, func, runAllProps(qcConfig, new HtmlListener)], function(o) {
              if (!_.isUndefined(o)) return show(o);
            });
          };
          segments = (function() {
            var _i, _len, _ref, _results;
            _ref = document.getElementsByTagName('pre');
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
              codeSegment = _ref[_i];
              if (codeSegment.className === 'sourceCode') {
                codeTag = codeSegment.getElementsByTagName('code')[0];
                if (codeTag.className === 'sourceCode coffeescript' || codeTag.className === 'sourceCode CoffeeScript') {
                  segment = codeTag.innerHTML;
                  code = segment.replace(/<br>/g, '\n');
                  code = code.replace(/<[^>]*>/g, '');
                  code = code.replace(/[&]gt;/g, '>');
                  code = code.replace(/[&]lt;/g, '<');
                  code = code.replace(/[&]nbsp;/g, ' ');
                  _results.push({
                    codeTag: codeTag,
                    code: code
                  });
                } else {
                  _results.push(void 0);
                }
              } else {
                _results.push(void 0);
              }
            }
            return _results;
          })();
          segments = (function() {
            var _i, _len, _results;
            _results = [];
            for (_i = 0, _len = segments.length; _i < _len; _i++) {
              segment = segments[_i];
              if (segment != null) _results.push(segment);
            }
            return _results;
          })();
          for (i = 0, _len = segments.length; i < _len; i++) {
            segment = segments[i];
            if (i > 0 && /^[\s]/.test(segment.code)) {
              segment.code = segments[i - 1].code + '\n' + segment.code;
              segments[i - 1] = void 0;
            }
          }
          segments = (function() {
            var _i, _len2, _results;
            _results = [];
            for (_i = 0, _len2 = segments.length; _i < _len2; _i++) {
              segment = segments[_i];
              if (segment != null) _results.push(segment);
            }
            return _results;
          })();
          for (_i = 0, _len2 = segments.length; _i < _len2; _i++) {
            segment = segments[_i];
            codeTag = segment.codeTag;
            try {
              draw = void 0;
              eval(CoffeeScript.compile(segment.code, {
                bare: true
              }));
              if (draw != null) draw(window.ctx);
            } catch (error) {
              addErrorElement(error);
              return;
            }
          }
        };
        delayedEvaluation = _.throttle(evaluateSource, 100);
        _ref = document.getElementsByTagName('pre');
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          segment = _ref[_i];
          segment.getElementsByTagName('code')[0].addEventListener('keyup', delayedEvaluation, false);
          segment.getElementsByTagName('code')[0].addEventListener('focus', (function() {
            return this.innerHTML = this.innerHTML.toString().replace(/<span[^>]*>/g, '');
          }), false);
        }
        return evaluateSource();
      };
      return window.ostrich = 'data:image/png;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAHgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgAWgBaAwEiAAIRAQMRAf/EAIYAAAIDAQEBAAAAAAAAAAAAAAQFAgMGAAEHAQEBAQEBAAAAAAAAAAAAAAACAQMABBAAAgEDAwIDBQYFBQEAAAAAAQIDABEEITESQQVhIhNRcYGhMrFCMxQVBpHBUmJDcqIjUzQ1EQACAgICAgIDAAAAAAAAAAAAARECITFBElFhcaHBIgP/2gAMAwEAAhEDEQA/AMtBEzW3o9ICBUsWG9qPWHTavPa2TZIDENx1qxI7WvRHEA6Uwwe1evxyMg8YL6KPqe32CopZXgAQAUdBBE/l4sQw/EPQ+FNJcjs+DFI6wxsVGq738LtSXJ/c8EbGD0OOPIBqAAyk+weyr19yTt6ITxMjFG3XehJUa2hNTHdcOWVTJo4urno69D764EMGN9msviLXvRiCyATcgLXNBSEnrameQnKhGxz7KdWFoFQsrbmir+J+mq0j81qK9Mf7aU5JBZiMRqaY+cwGYWKqeJA3FKYHKi23zptjIqQmVnLBgeSrp5RsdayssjQNI3AGQgkDUr1tUcvvxkUeivkQeXXa39tC5vcV+kPzXxFiPfQQMUqtYWO5+NKtfKC34LTm5mTxlPKXgeTCwVVHhrQjRnmVD+oSwW4Gt99KIWZorBVFiOJuP6tzTjHxsJceKZQpyI+DWUEkm9yoBsSRtTbjgmxNNjH8xxhQqIyRITtyP0r8qtORLCI1IvLExDBhbS2laTgmH6QCI6yHk6cbt6h6szgdTakWefWeQqi+RmvIu21+Itp8RU3tFiCw5MT8OZCO6huOttakGjlBEZ5eIpbMuRIy2GllBB95ozFj9MlmIUMblR0otJIqZJILtfeifQ+yjsSGOYC2/W1F/p/9w2oyywjLRMVfanU2eZYjBCllIs5OpNht4ClSY8ryqsQJdiAoHtphMpjurqL3N2F9TVbIjNZ6OkpO19Bapfp2Tr6ciyzqvqPDGSzKgsSSdtL6gUz9PEfuOOJyBCWHNjsF9poPP7aqZTMJAOOu41HRgeoNaK8RJy/n2mNrieOSjHkZivIXuQCfcafYYAaOc6kCykai/wBX2mhcbtU57eJuJtIzPbrw2U2rSdiwZAkWRIto7WWMDRr7tY1Hl4DoDZMhsmR52u8YW0SnzctW8NTyoKZLEgLxBbz21BtqSTWpzO0JLOkoJGOtiygnTieVh76Q9/xUSKXJwrLEt/VjB2c25Fajq5KmZ/IzURLfe020/hQP52d2trr93f7K8m5hwQnK4AG++9GxQKncIGVfTuoZhuAaWESLPOtfY8/bjZLLcxFkPW38603n/wCofT4UsTusMYCgC/Wwq39VHyvQ7L8izoSiBgbjQjYjeo5JkWKxJa/QnX505jxhuRQvcsc+g1h40SmYmkBewTfQAmtBidjxpcaOZoNRbmisWI5amyXtb3Vm/VBkCML67bWp3h50UMKoh5MDsGPEDfVSfsrRhXJr8bGUYrLJ5kItxPQW/lV0UsarwH+Py2pR23v8bERyNzhbdGN3S/3lc/Uvv1FB9+7zldqzA2NgPNBoWnflwcW2XhsffST1AX7NQ8SzQsDpyv8AZWRkR1xpo528zlkkVRYctdSPnWsxclMvt2PloCiTIHVTuAwBsay3fHwl/c2JiJzWSfi8jg+Tz3AFvtqXrMNcHVZn82F8ObkqcogRyBNzp0vQqyvLlGeQ2JOi/wBKjYU87/DFFkMuPYq44sx+pjsSvsFIVThLY73/AIVFz5E23Clx4GXM35A1d+Yb29KGRgwtVnE/KiU2CkBaHyQGjYFb6bVR+bFSE4kNuVvGo7I6GYzumPJFO9l4A6hfCgVyJkOjWp73lY/UK3Y3OrEaUhljYagfGtaOUgWUMmmfJGwJ1tsb6i/srYftv92RMq4eawZNk5bgezxFYU71wuCCDYjY0uq+Ayz7XFlYuTF/wlSg0BW1tPdSPuGUkOohDTqvGOZtBY3vyfw3rC9v/cWfgyrIrliNGF/qH91d3HvWZ3NzyuikWKA6W9nuotN40JdV7O7h3P8AMZhkXzKiiOM9NN2+Jr3Fj5ed73NDxQAbijYmCWtpUeoRVPIZGgA2tV1h8qEjmuas9Tx6UIYgh8hlFShmEikN10ub2A9ulUP8KPX/AOZ/i3P4P4m33qOCiPNZg11tx0A1NhQWQxMY06EUc/8A5D/q+Hx8aAyfxW3361tUFtgbC1QNTPwrw/CtDM4UVjRlt/hQw26Uww/o6UWVFuwr0Iz2C163wonF3H00Bl2LgXF2or9NTxojH2G3woj+FZ/tI8H/2Q==';
    }).call(this);</script>

<div id="page">
<header>
<h1 class="title">Underscore Reference — <em><a href="http://autotelicum.github.com/Smooth-CoffeeScript/">Smooth CoffeeScript</a></em></h1>
<h4 class="date">☕</h4>
</header>
<blockquote>
<p>This reference is an adaptation of the documentation at <a href="http://documentcloud.github.com/underscore">Underscore.js</a>. It is <em>interactive</em> in its HTML<sub>5</sub> form. Edit a CoffeeScript segment to try it. You can see the generated JavaScript when you write a CoffeeScript function by typing ‘show name’ after its definition.</p>
</blockquote>
<pre class="sourceCode" onclick="reveal(this)" ><b><u>Example</u></b><br/><code class="sourceCode CoffeeScript" contenteditable="true" spellcheck="false" style="display:none" "><span class="kw">if</span> exports<span class="kw">?</span><br />  _ <span class="kw">=</span> require <span class="st">'underscore'</span><br /><span class="kw">else</span><br />  _ <span class="kw">=</span> window<span class="kw">.</span>_ <span class="co"># Workaround for interactive environment quirk.</span><br /><br />view <span class="kw">=</span> <span class="fu">(obj) -&gt;</span><br />  show <span class="kw">if</span> <span class="kw">typeof</span> obj <span class="kw">is</span> <span class="st">'object'</span><br />    <span class="st">&quot;&quot;&quot;{</span><span class="ch">#{</span>&quot;\n  #{k<span class="ch">}</span><span class="st">: </span><span class="ch">#{</span>v<span class="ch">}</span><span class="st">&quot; for own k,v of obj}\n}&quot;&quot;&quot;</span><br />  <span class="kw">else</span> obj<br /><br />tryIt <span class="kw">=</span> <span class="fu">-&gt;</span><br />  show view <span class="co"># Show equivalent JavaScript</span><br />  view <span class="kw">{</span><br />    <span class="st">'JavaScript'</span> <span class="kw">:</span> <span class="st">&quot;we could have been the closest of friends&quot;</span><br />    <span class="st">'EcmaScript'</span> <span class="kw">:</span> <span class="st">&quot;we might have been the world's greatest lovers&quot;</span><br />    <span class="st">'But'</span>        <span class="kw">:</span> <span class="st">&quot;now we're just without each other&quot;</span><br />  <span class="kw">}</span><br /><span class="co"># Uncomment the next line to try it</span><br /><span class="co"># tryIt()</span><br /><span class="co"># show -&gt; 'all' in _.functions _ # To see code for an expression</span></code></pre>
<h2 id="underscore-version-1.2.3">Underscore version 1.2.3</h2>
<p><a href="http://github.com/documentcloud/underscore/">Underscore</a> is a library for functional style programming. It provides 60-odd functions that support both the usual functional suspects: <strong>map</strong>, <strong>select</strong>, <strong>invoke</strong> — as well as more specialized helpers: function binding, javascript templating, deep equality testing, and so on. It delegates to built-in functions, if present, so modern browsers will use the native implementations of <strong>forEach</strong>, <strong>map</strong>, <strong>reduce</strong>, <strong>filter</strong>, <strong>every</strong>, <strong>some</strong> and <strong>indexOf</strong>.</p>
<p>You can find more information and updates at <a href="http://documentcloud.github.com/underscore">Underscore.js</a>. Extensions to Underscore are listed in the <a href="https://github.com/documentcloud/underscore/wiki/Mixin-Catalog">Mixin Catalog Wiki</a>. <em>Underscore is an open-source component of <a href="http://documentcloud.org/">DocumentCloud</a>.</em></p>
<h3 id="downloads">Downloads</h3>
<p><em>Right-click, and use “Save As”</em></p>
<ul>
<li><a href="http://documentcloud.github.com/underscore/underscore.js">Development Version</a>
<ul>
<li><em>34kb, Uncompressed with Comments</em></li>
</ul></li>
<li><a href="http://documentcloud.github.com/underscore/underscore-min.js">Production Version</a>
<ul>
<li><em>&lt; 4kb, Minified and Gzipped</em></li>
</ul></li>
</ul>
<h2 id="object-oriented-and-functional-styles">Object-Oriented and Functional Styles</h2>
<p>You can use Underscore in either an object-oriented or a functional style, depending on your preference. The following two lines of code are identical ways to double a list of numbers.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>map <span class="kw">[</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span> <span class="kw">],</span> <span class="fu">(n) -&gt;</span> n <span class="kw">*</span> <span class="dv">2</span><br />show _<span class="kw">([</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span> <span class="kw">]).</span>map <span class="fu">(n) -&gt;</span> n <span class="kw">*</span> <span class="dv">2</span></code></pre>
<p>Using the object-oriented style allows you to chain together methods. Calling <code>chain</code> on a wrapped object will cause all future method calls to return wrapped objects as well. When you’ve finished the computation, use <code>value</code> to retrieve the final value. Here’s an example of chaining together a <strong>map/flatten/reduce</strong>, in order to get the word count of every word in a song.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">lyrics <span class="kw">=</span> <span class="kw">[</span><br />  <span class="kw">{</span>line <span class="kw">:</span> <span class="dv">1</span><span class="kw">,</span> words <span class="kw">:</span> <span class="st">&quot;I'm a lumberjack and I'm okay&quot;</span><span class="kw">}</span><br />  <span class="kw">{</span>line <span class="kw">:</span> <span class="dv">2</span><span class="kw">,</span> words <span class="kw">:</span> <span class="st">&quot;I sleep all night and I work all day&quot;</span><span class="kw">}</span><br />  <span class="kw">{</span>line <span class="kw">:</span> <span class="dv">3</span><span class="kw">,</span> words <span class="kw">:</span> <span class="st">&quot;He's a lumberjack and he's okay&quot;</span><span class="kw">}</span><br />  <span class="kw">{</span>line <span class="kw">:</span> <span class="dv">4</span><span class="kw">,</span> words <span class="kw">:</span> <span class="st">&quot;He sleeps all night and he works all day&quot;</span><span class="kw">}</span><br /><span class="kw">]</span><br />view _<span class="kw">(</span>lyrics<span class="kw">).</span>chain<span class="kw">()</span><br />  <span class="kw">.</span>map<span class="kw">(</span><span class="fu">(line) -&gt;</span> line<span class="kw">.</span>words<span class="kw">.</span>split <span class="st">&quot; &quot;</span><span class="kw">)</span><br />  <span class="kw">.</span>flatten<span class="kw">()</span><br />  <span class="kw">.</span>reduce<span class="kw">((</span><span class="fu">(counts, word) -&gt;</span><br />    counts<span class="kw">[</span>word<span class="kw">]</span> <span class="kw">=</span> <span class="kw">(</span>counts<span class="kw">[</span>word<span class="kw">]</span> <span class="kw">or</span> <span class="dv">0</span><span class="kw">)</span> <span class="kw">+</span> <span class="dv">1</span><br />    counts<span class="kw">),</span> <span class="kw">{})</span><br />  <span class="kw">.</span>value<span class="kw">()</span></code></pre>
<p>In addition, the <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/prototype">Array prototype’s methods</a> are proxied through the chained Underscore object, so you can slip a <code>reverse</code> or a <code>push</code> into your chain, and continue to modify the array.</p>
<h2 id="collection-functions-arrays-or-objects">Collection Functions (Arrays or Objects)</h2>
<h4 id="each">each</h4>
<p><code>_.each list, iterator, [context]</code> Alias: <strong>forEach</strong></p>
<p>Iterates over a <strong>list</strong> of elements, yielding each in turn to an <strong>iterator</strong> function. The <strong>iterator</strong> is bound to the <strong>context</strong> object, if one is passed. Each invocation of <strong>iterator</strong> is called with three arguments: <code>element, index, list</code>. If <strong>list</strong> is a JavaScript object, <strong>iterator</strong>’s arguments will be <code>value, key, list</code>. Delegates to the native <strong>forEach</strong> function if it exists.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">_<span class="kw">.</span>each <span class="kw">[</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span> <span class="kw">],</span> <span class="fu">(num) -&gt;</span> show num</code></pre>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">_<span class="kw">.</span>each <span class="kw">{</span>one <span class="kw">:</span> <span class="dv">1</span><span class="kw">,</span> two <span class="kw">:</span> <span class="dv">2</span><span class="kw">,</span> three <span class="kw">:</span> <span class="dv">3</span><span class="kw">},</span> <span class="fu">(num, key) -&gt;</span> show num</code></pre>
<h4 id="map">map</h4>
<p><code>_.map list, iterator, [context]</code></p>
<p>Produces a new array of values by mapping each value in <strong>list</strong> through a transformation function (<strong>iterator</strong>). If the native <strong>map</strong> method exists, it will be used instead. If <strong>list</strong> is a JavaScript object, <strong>iterator</strong>’s arguments will be <code>value, key, list</code>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>map <span class="kw">[</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span> <span class="kw">],</span> <span class="fu">(num) -&gt;</span> num <span class="kw">*</span> <span class="dv">3</span></code></pre>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>map<br />  one<span class="kw">:</span> <span class="dv">1</span><br />  two<span class="kw">:</span> <span class="dv">2</span><br />  three<span class="kw">:</span> <span class="dv">3</span><br /><span class="kw">,</span> <span class="fu">(num, key) -&gt;</span><br />  num <span class="kw">*</span> <span class="dv">3</span></code></pre>
<h4 id="reduce">reduce</h4>
<p><code>_.reduce list, iterator, memo, [context]</code> Aliases: <strong>inject, foldl</strong></p>
<p>Also known as <strong>inject</strong> and <strong>foldl</strong>, <strong>reduce</strong> boils down a <strong>list</strong> of values into a single value. <strong>Memo</strong> is the initial state of the reduction, and each successive step of it should be returned by <strong>iterator</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show sum <span class="kw">=</span> _<span class="kw">.</span>reduce <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="kw">(</span><span class="fu">(memo, num) -&gt;</span> memo <span class="kw">+</span> num<span class="kw">),</span> <span class="dv">0</span></code></pre>
<h4 id="reduceright">reduceRight</h4>
<p><code>_.reduceRight list, iterator, memo, [context]</code> Alias: <strong>foldr</strong></p>
<p>The right-associative version of <strong>reduce</strong>. Delegates to the JavaScript 1.8 version of <strong>reduceRight</strong>, if it exists. <strong>Foldr</strong> is not as useful in JavaScript as it would be in a language with lazy evaluation.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">list <span class="kw">=</span> <span class="kw">[</span> <span class="kw">[</span> <span class="dv">0</span><span class="kw">,</span> <span class="dv">1</span> <span class="kw">],</span> <span class="kw">[</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span> <span class="kw">],</span> <span class="kw">[</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">5</span> <span class="kw">]</span> <span class="kw">]</span><br />flat <span class="kw">=</span> _<span class="kw">.</span>reduceRight list<span class="kw">,</span> <span class="fu">(a, b) -&gt;</span><br />  a<span class="kw">.</span>concat b<br /><span class="kw">,</span> <span class="kw">[]</span><br />show flat</code></pre>
<h4 id="find">find</h4>
<p><code>_.find list, iterator, [context]</code> Alias: <strong>detect</strong></p>
<p>Looks through each value in the <strong>list</strong>, returning the first one that passes a truth test (<strong>iterator</strong>). The function returns as soon as it finds an acceptable element, and doesn’t traverse the entire list.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show even <span class="kw">=</span> _<span class="kw">.</span>find <span class="kw">[</span><span class="dv">1</span><span class="kw">..</span><span class="dv">6</span><span class="kw">],</span> <span class="fu">(num) -&gt;</span> num <span class="kw">%</span> <span class="dv">2</span> <span class="kw">is</span> <span class="dv">0</span></code></pre>
<h4 id="filter">filter</h4>
<p><code>_.filter list, iterator, [context]</code> Alias: <strong>select</strong></p>
<p>Looks through each value in the <strong>list</strong>, returning an array of all the values that pass a truth test (<strong>iterator</strong>). Delegates to the native <strong>filter</strong> method, if it exists.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show evens <span class="kw">=</span> _<span class="kw">.</span>filter <span class="kw">[</span><span class="dv">1</span><span class="kw">..</span><span class="dv">6</span><span class="kw">],</span> <span class="fu">(num) -&gt;</span> num <span class="kw">%</span> <span class="dv">2</span> <span class="kw">is</span> <span class="dv">0</span></code></pre>
<h4 id="reject">reject</h4>
<p><code>_.reject list, iterator, [context]</code></p>
<p>Returns the values in <strong>list</strong> without the elements that the truth test (<strong>iterator</strong>) passes. The opposite of <strong>filter</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show odds <span class="kw">=</span> _<span class="kw">.</span>reject <span class="kw">[</span><span class="dv">1</span><span class="kw">..</span><span class="dv">6</span><span class="kw">],</span> <span class="fu">(num) -&gt;</span> num <span class="kw">%</span> <span class="dv">2</span> <span class="kw">is</span> <span class="dv">0</span></code></pre>
<h4 id="all">all</h4>
<p><code>_.all list, iterator, [context]</code> Alias: <strong>every</strong></p>
<p>Returns <em>true</em> if all of the values in the <strong>list</strong> pass the <strong>iterator</strong> truth test. Delegates to the native method <strong>every</strong>, if present.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>all <span class="kw">[</span><span class="ot">true</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="ot">null</span><span class="kw">,</span> <span class="st">'yes'</span><span class="kw">],</span> _<span class="kw">.</span>identity</code></pre>
<h4 id="any">any</h4>
<p><code>_.any list, [iterator], [context]</code> Alias: <strong>some</strong></p>
<p>Returns <em>true</em> if any of the values in the <strong>list</strong> pass the <strong>iterator</strong> truth test. Short-circuits and stops traversing the list if a true element is found. Delegates to the native method <strong>some</strong>, if present.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>any <span class="kw">[</span><span class="ot">null</span><span class="kw">,</span> <span class="dv">0</span><span class="kw">,</span> <span class="st">'yes'</span><span class="kw">,</span> <span class="ot">false</span><span class="kw">]</span></code></pre>
<h4 id="include">include</h4>
<p><code>_.include list, value</code> Alias: <strong>contains</strong></p>
<p>Returns <em>true</em> if the <strong>value</strong> is present in the <strong>list</strong>, using <em>===</em> to test equality. Uses <strong>indexOf</strong> internally, if <strong>list</strong> is an Array.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>include <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="dv">3</span></code></pre>
<h4 id="invoke">invoke</h4>
<p><code>_.invoke list, methodName, [*arguments]</code></p>
<p>Calls the method named by <strong>methodName</strong> on each value in the <strong>list</strong>. Any extra arguments passed to <strong>invoke</strong> will be forwarded on to the method invocation.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>invoke <span class="kw">[[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">7</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">3</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]],</span> <span class="st">'sort'</span></code></pre>
<h4 id="pluck">pluck</h4>
<p><code>_.pluck list, propertyName</code></p>
<p>A convenient version of what is perhaps the most common use-case for <strong>map</strong>: extracting a list of property values.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">stooges <span class="kw">=</span> <span class="kw">[</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">40</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'larry'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">50</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'curly'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">60</span><span class="kw">}</span><br /><span class="kw">]</span><br />show _<span class="kw">.</span>pluck stooges<span class="kw">,</span> <span class="st">'name'</span></code></pre>
<h4 id="max">max</h4>
<p><code>_.max list, [iterator], [context]</code></p>
<p>Returns the maximum value in <strong>list</strong>. If <strong>iterator</strong> is passed, it will be used on each value to generate the criterion by which the value is ranked.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">stooges <span class="kw">=</span> <span class="kw">[</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">40</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'larry'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">50</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'curly'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">60</span><span class="kw">}</span><br /><span class="kw">]</span><br />view _<span class="kw">.</span>max stooges<span class="kw">,</span> <span class="fu">(stooge) -&gt;</span> stooge<span class="kw">.</span>age</code></pre>
<h4 id="min">min</h4>
<p><code>_.min list, [iterator], [context]</code></p>
<p>Returns the minimum value in <strong>list</strong>. If <strong>iterator</strong> is passed, it will be used on each value to generate the criterion by which the value is ranked.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">numbers <span class="kw">=</span> <span class="kw">[</span><span class="dv">10</span><span class="kw">,</span> <span class="dv">5</span><span class="kw">,</span> <span class="dv">100</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1000</span><span class="kw">]</span><br />show _<span class="kw">.</span>min numbers</code></pre>
<h4 id="sortby">sortBy</h4>
<p><code>_.sortBy list, iterator, [context]</code></p>
<p>Returns a sorted copy of <strong>list</strong>, ranked by the results of running each value through <strong>iterator</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>sortBy <span class="kw">[</span><span class="dv">1</span><span class="kw">..</span><span class="dv">6</span><span class="kw">],</span> <span class="fu">(num) -&gt;</span> <span class="ot">Math</span><span class="kw">.</span>sin num</code></pre>
<h4 id="groupby">groupBy</h4>
<p><code>_.groupBy list, iterator</code></p>
<p>Splits a collection into sets, grouped by the result of running each value through <strong>iterator</strong>. If <strong>iterator</strong> is a string instead of a function, groups by the property named by <strong>iterator</strong> on each of the values.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">view _<span class="kw">.</span>groupBy <span class="kw">[</span><span class="fl">1.3</span><span class="kw">,</span> <span class="fl">2.1</span><span class="kw">,</span> <span class="fl">2.4</span><span class="kw">],</span> <span class="fu">(num) -&gt;</span> <span class="ot">Math</span><span class="kw">.</span>floor num</code></pre>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">view _<span class="kw">.</span>groupBy <span class="kw">[</span><span class="st">'one'</span><span class="kw">,</span> <span class="st">'two'</span><span class="kw">,</span> <span class="st">'three'</span><span class="kw">],</span> <span class="st">'length'</span></code></pre>
<h4 id="sortedindex">sortedIndex</h4>
<p><code>_.sortedIndex list, value, [iterator]</code></p>
<p>Uses a binary search to determine the index at which the <strong>value</strong> <em>should</em> be inserted into the <strong>list</strong> in order to maintain the <strong>list</strong>’s sorted order. If an <strong>iterator</strong> is passed, it will be used to compute the sort ranking of each value.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>sortedIndex <span class="kw">[</span><span class="dv">10</span><span class="kw">,</span> <span class="dv">20</span><span class="kw">,</span> <span class="dv">30</span><span class="kw">,</span> <span class="dv">40</span><span class="kw">,</span> <span class="dv">50</span><span class="kw">],</span> <span class="dv">35</span></code></pre>
<h4 id="shuffle">shuffle</h4>
<p><code>_.shuffle list</code></p>
<p>Returns a shuffled copy of the <strong>list</strong>, using a version of the <a href="http://en.wikipedia.org/wiki/Fisher-Yates_shuffle">Fisher-Yates shuffle</a>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>shuffle <span class="kw">[</span><span class="dv">1</span><span class="kw">..</span><span class="dv">6</span><span class="kw">]</span></code></pre>
<h4 id="toarray">toArray</h4>
<p><code>_.toArray list</code></p>
<p>Converts the <strong>list</strong> (anything that can be iterated over), into a real Array. Useful for transmuting the <strong>arguments</strong> object.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false"><span class="kw">(</span><span class="fu">-&gt;</span> show _<span class="kw">.</span>toArray<span class="kw">(</span>arguments<span class="kw">).</span>slice<span class="kw">(</span><span class="dv">0</span><span class="kw">))(</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">)</span></code></pre>
<h4 id="size">size</h4>
<p><code>_.size list</code></p>
<p>Return the number of values in the <strong>list</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>size <span class="kw">{</span>one <span class="kw">:</span> <span class="dv">1</span><span class="kw">,</span> two <span class="kw">:</span> <span class="dv">2</span><span class="kw">,</span> three <span class="kw">:</span> <span class="dv">3</span><span class="kw">}</span></code></pre>
<h2 id="array-functions">Array Functions</h2>
<p><em>Note: All array functions will also work on the <strong>arguments</strong> object.</em></p>
<h4 id="first">first</h4>
<p><code>_.first array, [n]</code> Alias: <strong>head</strong></p>
<p>Returns the first element of an <strong>array</strong>. Passing <strong>n</strong> will return the first <strong>n</strong> elements of the array.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>first <span class="kw">[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="initial">initial</h4>
<p><code>_.initial array, [n]</code></p>
<p>Returns everything but the last entry of the array. Especially useful on the arguments object. Pass <strong>n</strong> to exclude the last <strong>n</strong> elements from the result.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>initial <span class="kw">[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="last">last</h4>
<p><code>_.last array, [n]</code></p>
<p>Returns the last element of an <strong>array</strong>. Passing <strong>n</strong> will return the last <strong>n</strong> elements of the array.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>last <span class="kw">[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="rest">rest</h4>
<p><code>_.rest array, [index]</code> Alias: <strong>tail</strong></p>
<p>Returns the <strong>rest</strong> of the elements in an array. Pass an <strong>index</strong> to return the values of the array from that index onward.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>rest <span class="kw">[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="compact">compact</h4>
<p><code>_.compact array</code></p>
<p>Returns a copy of the <strong>array</strong> with all falsy values removed. In JavaScript, <em>false</em>, <em>null</em>, <em>0</em>, <em>“”</em>, <em>undefined</em> and <em>NaN</em> are all falsy.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>compact <span class="kw">[</span><span class="dv">0</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="ot">false</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="st">''</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">]</span></code></pre>
<h4 id="flatten">flatten</h4>
<p><code>_.flatten array</code></p>
<p>Flattens a nested <strong>array</strong> (the nesting can be to any depth).</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>flatten <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="kw">[</span><span class="dv">2</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">3</span><span class="kw">,</span> <span class="kw">[[[</span><span class="dv">4</span><span class="kw">]]]]]</span></code></pre>
<h4 id="without">without</h4>
<p><code>_.without array, [*values]</code></p>
<p>Returns a copy of the <strong>array</strong> with all instances of the <strong>values</strong> removed. <em>===</em> is used for the equality test.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>without <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">0</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">],</span> <span class="dv">0</span><span class="kw">,</span> <span class="dv">1</span></code></pre>
<h4 id="union">union</h4>
<p><code>_.union *arrays</code></p>
<p>Computes the union of the passed-in <strong>arrays</strong>: the list of unique items, in order, that are present in one or more of the <strong>arrays</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>union <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">101</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">10</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="intersection">intersection</h4>
<p><code>_.intersection *arrays</code></p>
<p>Computes the list of values that are the intersection of all the <strong>arrays</strong>. Each value in the result is present in each of the <strong>arrays</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>intersection <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">101</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">10</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">]</span></code></pre>
<h4 id="difference">difference</h4>
<p><code>_.difference array, *others</code></p>
<p>Similar to <strong>without</strong>, but returns the values from <strong>array</strong> that are not present in the <strong>other</strong> arrays.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>difference <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">,</span> <span class="dv">5</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">5</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">10</span><span class="kw">]</span></code></pre>
<h4 id="uniq">uniq</h4>
<p><code>_.uniq array, [isSorted], [iterator]</code> Alias: <strong>unique</strong></p>
<p>Produces a duplicate-free version of the <strong>array</strong>, using <em>===</em> to test object equality. If you know in advance that the <strong>array</strong> is sorted, passing <em>true</em> for <strong>isSorted</strong> will run a much faster algorithm. If you want to compute unique items based on a transformation, pass an <strong>iterator</strong> function.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>uniq <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">4</span><span class="kw">]</span></code></pre>
<h4 id="zip">zip</h4>
<p><code>_.zip *arrays</code></p>
<p>Merges together the values of each of the <strong>arrays</strong> with the values at the corresponding position. Useful when you have separate data sources that are coordinated through matching array indexes. If you’re working with a matrix of nested arrays, <strong>zip.apply</strong> can transpose the matrix in a similar fashion.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>zip <span class="kw">[</span><span class="st">'moe'</span><span class="kw">,</span> <span class="st">'larry'</span><span class="kw">,</span> <span class="st">'curly'</span><span class="kw">],</span> <span class="kw">[</span><span class="dv">30</span><span class="kw">,</span> <span class="dv">40</span><span class="kw">,</span> <span class="dv">50</span><span class="kw">],</span> <span class="kw">[</span><span class="ot">true</span><span class="kw">,</span> <span class="ot">false</span><span class="kw">,</span> <span class="ot">false</span><span class="kw">]</span></code></pre>
<h4 id="indexof">indexOf</h4>
<p><code>_.indexOf array, value, [isSorted]</code></p>
<p>Returns the index at which <strong>value</strong> can be found in the <strong>array</strong>, or <em>–1</em> if value is not present in the <strong>array</strong>. Uses the native <strong>indexOf</strong> function unless it’s missing. If you’re working with a large array, and you know that the array is already sorted, pass <code>true</code> for <strong>isSorted</strong> to use a faster binary search.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>indexOf <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="dv">2</span></code></pre>
<h4 id="lastindexof">lastIndexOf</h4>
<p><code>_.lastIndexOf array, value</code></p>
<p>Returns the index of the last occurrence of <strong>value</strong> in the <strong>array</strong>, or <em>–1</em> if value is not present. Uses the native <strong>lastIndexOf</strong> function if possible.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>lastIndexOf <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">],</span> <span class="dv">2</span></code></pre>
<h4 id="range">range</h4>
<p><code>_.range [start], stop, [step]</code></p>
<p>A function to create flexibly-numbered lists of integers, handy for <code>each</code> and <code>map</code> loops. <strong>start</strong>, if omitted, defaults to <em>0</em>; <strong>step</strong> defaults to <em>1</em>. Returns a list of integers from <strong>start</strong> to <strong>stop</strong>, incremented (or decremented) by <strong>step</strong>, exclusive.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>range <span class="dv">10</span><br />show _<span class="kw">.</span>range <span class="dv">1</span><span class="kw">,</span> <span class="dv">11</span><br />show _<span class="kw">.</span>range <span class="dv">0</span><span class="kw">,</span> <span class="dv">30</span><span class="kw">,</span> <span class="dv">5</span><br />show _<span class="kw">.</span>range <span class="dv">0</span><span class="kw">,</span> <span class="kw">-</span><span class="dv">10</span><span class="kw">,</span> <span class="kw">-</span><span class="dv">1</span><br />show _<span class="kw">.</span>range <span class="dv">0</span></code></pre>
<h2 id="function-uh-ahem-functions">Function (uh, ahem) Functions</h2>
<h4 id="bind">bind</h4>
<p><code>_.bind function, object, [*arguments]</code></p>
<p>Bind a <strong>function</strong> to an <strong>object</strong>, meaning that whenever the function is called, the value of <em>this</em> will be the <strong>object</strong>. Optionally, bind <strong>arguments</strong> to the <strong>function</strong> to pre-fill them, also known as <strong>currying</strong>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">func <span class="kw">=</span> <span class="fu">(greeting) -&gt;</span> greeting <span class="kw">+</span> <span class="st">': '</span> <span class="kw">+</span> <span class="dt">this</span><span class="kw">.</span>name<br />func <span class="kw">=</span> _<span class="kw">.</span>bind func<span class="kw">,</span> <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">},</span> <span class="st">'hi'</span><br />show func<span class="kw">()</span></code></pre>
<h4 id="bindall">bindAll</h4>
<p><code>_.bindAll object, [*methodNames]</code></p>
<p>Binds a number of methods on the <strong>object</strong>, specified by <strong>methodNames</strong>, to be run in the context of that object whenever they are invoked. Very handy for binding functions that are going to be used as event handlers, which would otherwise be invoked with a fairly useless <em>this</em>. If no <strong>methodNames</strong> are provided, all of the object’s function properties will be bound to it.</p>
<pre class="sourceCode"><code class="sourceCode COFFEESCRIPT">buttonView <span class="kw">=</span> <span class="kw">{</span><br />  label   <span class="kw">:</span> <span class="st">'underscore'</span><br />  onClick <span class="kw">:</span> <span class="fu">-&gt;</span> show <span class="st">'clicked: '</span> <span class="kw">+</span> <span class="dt">this</span><span class="kw">.</span>label<br />  onHover <span class="kw">:</span> <span class="fu">-&gt;</span> show <span class="st">'hovering: '</span> <span class="kw">+</span> <span class="dt">this</span><span class="kw">.</span>label<br /><span class="kw">}</span><br />_<span class="kw">.</span>bindAll buttonView<br />jQuery<span class="kw">(</span><span class="st">'#underscore_button'</span><span class="kw">).</span>bind <span class="st">'click'</span><span class="kw">,</span> buttonView<span class="kw">.</span>onClick</code></pre>
<h4 id="memoize">memoize</h4>
<p><code>_.memoize function, [hashFunction]</code></p>
<p>Memoizes a given <strong>function</strong> by caching the computed result. Useful for speeding up slow-running computations. If passed an optional <strong>hashFunction</strong>, it will be used to compute the hash key for storing the result, based on the arguments to the original function. The default <strong>hashFunction</strong> just uses the first argument to the memoized function as the key.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">timeIt <span class="kw">=</span> <span class="fu">(func, a...) -&gt;</span><br />  before <span class="kw">=</span> <span class="kw">new</span> <span class="dt">Date</span><br />  result <span class="kw">=</span> func a<span class="kw">...</span><br />  show <span class="st">&quot;Elapsed: </span><span class="ch">#{</span>new Date - before<span class="ch">}</span><span class="st">ms&quot;</span><br />  result<br /><br />fibonacci <span class="kw">=</span> _<span class="kw">.</span>memoize <span class="fu">(n) -&gt;</span><br />  <span class="kw">if</span> n <span class="kw">&lt;</span> <span class="dv">2</span> <span class="kw">then</span> n <span class="kw">else</span> fibonacci<span class="kw">(</span>n <span class="kw">-</span> <span class="dv">1</span><span class="kw">)</span> <span class="kw">+</span> fibonacci<span class="kw">(</span>n <span class="kw">-</span> <span class="dv">2</span><span class="kw">)</span><br /><br />show timeIt fibonacci<span class="kw">,</span> <span class="dv">1000</span><br />show timeIt fibonacci<span class="kw">,</span> <span class="dv">1000</span></code></pre>
<h4 id="delay">delay</h4>
<p><code>_.delay function, wait, [*arguments]</code></p>
<p>Much like <strong>setTimeout</strong>, invokes <strong>function</strong> after <strong>wait</strong> milliseconds. If you pass the optional <strong>arguments</strong>, they will be forwarded on to the <strong>function</strong> when it is invoked.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">log <span class="kw">=</span> _<span class="kw">.</span>bind show<span class="kw">,</span> <span class="ot">console</span> <span class="kw">?</span> window<br />_<span class="kw">.</span>delay log<span class="kw">,</span> <span class="dv">1</span><span class="kw">,</span> <span class="st">'logged later'</span><br /><span class="co"># See the end of this document for the output</span></code></pre>
<h4 id="defer">defer</h4>
<p><code>_.defer function</code></p>
<p>Defers invoking the <strong>function</strong> until the current call stack has cleared, similar to using <strong>setTimeout</strong> with a delay of 0. Useful for performing expensive computations or HTML rendering in chunks without blocking the UI thread from updating.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">_<span class="kw">.</span>defer <span class="fu">-&gt;</span> show <span class="st">'deferred'</span><br /><span class="co"># See the end of this document for the output</span></code></pre>
<h4 id="throttle">throttle</h4>
<p><code>_.throttle function, wait</code></p>
<p>Returns a throttled version of the function, that, when invoked repeatedly, will only actually call the wrapped function at most once per every <strong>wait</strong> milliseconds. Useful for rate-limiting events that occur faster than you can keep up with.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">updatePosition <span class="kw">=</span> <span class="fu">(evt) -&gt;</span> show <span class="st">&quot;Position </span><span class="ch">#{</span>evt<span class="ch">}</span><span class="st">&quot;</span><br />throttled <span class="kw">=</span> _<span class="kw">.</span>throttle updatePosition<span class="kw">,</span> <span class="dv">100</span><br /><span class="kw">for</span> i <span class="kw">in</span> <span class="kw">[</span><span class="dv">0</span><span class="kw">..</span><span class="dv">10</span><span class="kw">]</span><br />  throttled i<br /><span class="co"># $(window).scroll throttled</span></code></pre>
<h4 id="debounce">debounce</h4>
<p><code>_.debounce function, wait</code></p>
<p>Calling a debounced function will postpone its execution until after <strong>wait</strong> milliseconds have elapsed since the last time the function was invoked. Useful for implementing behavior that should only happen <em>after</em> the input has stopped arriving. For example: rendering a preview of a Markdown comment, recalculating a layout after the window has stopped being resized…</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">calculateLayout <span class="kw">=</span> <span class="fu">-&gt;</span> show <span class="st">&quot;It's quiet now&quot;</span><br />lazyLayout <span class="kw">=</span> _<span class="kw">.</span>debounce calculateLayout<span class="kw">,</span> <span class="dv">100</span><br />lazyLayout<span class="kw">()</span><br /><span class="co"># $(window).resize lazyLayout</span></code></pre>
<h4 id="once">once</h4>
<p><code>_.once function</code></p>
<p>Creates a version of the function that can only be called one time. Repeated calls to the modified function will have no effect, returning the value from the original call. Useful for initialization functions, instead of having to set a boolean flag and then check it later.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">createApplication <span class="kw">=</span> <span class="fu">-&gt;</span> show <span class="st">&quot;Created&quot;</span><br />initialize <span class="kw">=</span> _<span class="kw">.</span>once createApplication<br />initialize<span class="kw">()</span><br />initialize<span class="kw">()</span><br /><span class="co"># Application is only created once.</span></code></pre>
<h4 id="after">after</h4>
<p><code>_.after count, function</code></p>
<p>Creates a version of the function that will only be run after first being called <strong>count</strong> times. Useful for grouping asynchronous responses, where you want to be sure that all the async calls have finished, before proceeding.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">skipFirst <span class="kw">=</span> _<span class="kw">.</span>after <span class="dv">3</span><span class="kw">,</span> show<br /><span class="kw">for</span> i <span class="kw">in</span> <span class="kw">[</span><span class="dv">0</span><span class="kw">..</span><span class="dv">3</span><span class="kw">]</span><br />  skipFirst i</code></pre>
<pre class="sourceCode"><code class="sourceCode COFFEESCRIPT"><span class="co"># renderNotes is run once, after all notes have saved.</span><br />renderNotes <span class="kw">=</span> _<span class="kw">.</span>after notes<span class="kw">.</span>length<span class="kw">,</span> render<br />_<span class="kw">.</span>each notes<span class="kw">,</span> <span class="fu">(note) -&gt;</span><br />  note<span class="kw">.</span>asyncSave <span class="kw">{</span>success<span class="kw">:</span> renderNotes<span class="kw">}</span> </code></pre>
<h4 id="wrap">wrap</h4>
<p><code>_.wrap function, wrapper</code></p>
<p>Wraps the first <strong>function</strong> inside of the <strong>wrapper</strong> function, passing it as the first argument. This allows the <strong>wrapper</strong> to execute code before and after the <strong>function</strong> runs, adjust the arguments, and execute it conditionally.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">hello <span class="kw">=</span> <span class="fu">(name) -&gt;</span> <span class="st">&quot;hello: &quot;</span> <span class="kw">+</span> name<br />hello <span class="kw">=</span> _<span class="kw">.</span>wrap hello<span class="kw">,</span> <span class="fu">(func) -&gt;</span><br />  <span class="st">&quot;before, </span><span class="ch">#{</span>func &quot;moe&quot;<span class="ch">}</span><span class="st">, after&quot;</span><br />show hello<span class="kw">()</span></code></pre>
<h4 id="compose">compose</h4>
<p><code>_.compose *functions</code></p>
<p>Returns the composition of a list of <strong>functions</strong>, where each function consumes the return value of the function that follows. In math terms, composing the functions <em>f()</em>, <em>g()</em>, and <em>h()</em> produces <em>f(g(h()))</em>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">greet    <span class="kw">=</span> <span class="fu">(name) -&gt;</span> <span class="st">&quot;hi: &quot;</span> <span class="kw">+</span> name<br />exclaim  <span class="kw">=</span> <span class="fu">(statement) -&gt;</span> statement <span class="kw">+</span> <span class="st">&quot;!&quot;</span><br />welcome <span class="kw">=</span> _<span class="kw">.</span>compose exclaim<span class="kw">,</span> greet<br />show welcome <span class="st">'moe'</span></code></pre>
<h2 id="object-functions">Object Functions</h2>
<h4 id="keys">keys</h4>
<p><code>_.keys object</code></p>
<p>Retrieve all the names of the <strong>object</strong>’s properties.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>keys <span class="kw">{</span>one <span class="kw">:</span> <span class="dv">1</span><span class="kw">,</span> two <span class="kw">:</span> <span class="dv">2</span><span class="kw">,</span> three <span class="kw">:</span> <span class="dv">3</span><span class="kw">}</span></code></pre>
<h4 id="values">values</h4>
<p><code>_.values object</code></p>
<p>Return all of the values of the <strong>object</strong>’s properties.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>values <span class="kw">{</span>one <span class="kw">:</span> <span class="dv">1</span><span class="kw">,</span> two <span class="kw">:</span> <span class="dv">2</span><span class="kw">,</span> three <span class="kw">:</span> <span class="dv">3</span><span class="kw">}</span></code></pre>
<h4 id="functions">functions</h4>
<p><code>_.functions object</code> Alias: <strong>methods</strong></p>
<p>Returns a sorted list of the names of every method in an object — that is to say, the name of every function property of the object.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>functions _</code></pre>
<h4 id="extend">extend</h4>
<p><code>_.extend destination, *sources</code></p>
<p>Copy all of the properties in the <strong>source</strong> objects over to the <strong>destination</strong> object. It’s in-order, so the last source will override properties of the same name in previous arguments.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">view _<span class="kw">.</span>extend <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">},</span> <span class="kw">{</span>age <span class="kw">:</span> <span class="dv">50</span><span class="kw">}</span></code></pre>
<h4 id="defaults">defaults</h4>
<p><code>_.defaults object, *defaults</code></p>
<p>Fill in missing properties in <strong>object</strong> with default values from the <strong>defaults</strong> objects. As soon as the property is filled, further defaults will have no effect.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">iceCream <span class="kw">=</span> <span class="kw">{</span>flavor <span class="kw">:</span> <span class="st">&quot;chocolate&quot;</span><span class="kw">}</span><br />view _<span class="kw">.</span>defaults iceCream<span class="kw">,</span> <span class="kw">{</span>flavor <span class="kw">:</span> <span class="st">&quot;vanilla&quot;</span><span class="kw">,</span> sprinkles <span class="kw">:</span> <span class="st">&quot;lots&quot;</span><span class="kw">}</span></code></pre>
<h4 id="clone">clone</h4>
<p><code>_.clone object</code></p>
<p>Create a shallow-copied clone of the <strong>object</strong>. Any nested objects or arrays will be copied by reference, not duplicated.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">view _<span class="kw">.</span>clone <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">}</span></code></pre>
<h4 id="tap">tap</h4>
<p><code>_.tap object, interceptor</code></p>
<p>Invokes <strong>interceptor</strong> with the <strong>object</strong>, and then returns <strong>object</strong>. The primary purpose of this method is to “tap into” a method chain, in order to perform operations on intermediate results within the chain.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">([</span><span class="dv">1</span><span class="kw">,</span><span class="dv">2</span><span class="kw">,</span><span class="dv">3</span><span class="kw">,</span><span class="dv">200</span><span class="kw">]).</span>chain<span class="kw">().</span><br />  filter<span class="kw">(</span><span class="fu">(num) -&gt;</span> num <span class="kw">%</span> <span class="dv">2</span> <span class="kw">is</span> <span class="dv">0</span><span class="kw">).</span><br />  tap<span class="kw">(</span>show<span class="kw">).</span><br />  map<span class="kw">(</span><span class="fu">(num) -&gt;</span> num <span class="kw">*</span> num<span class="kw">).</span><br />  value<span class="kw">()</span></code></pre>
<h4 id="isequal">isEqual</h4>
<p><code>_.isEqual object, other</code></p>
<p>Performs an optimized deep comparison between the two objects, to determine if they should be considered equal.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">moe   <span class="kw">=</span> <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">,</span> luckyNumbers <span class="kw">:</span> <span class="kw">[</span><span class="dv">13</span><span class="kw">,</span> <span class="dv">27</span><span class="kw">,</span> <span class="dv">34</span><span class="kw">]}</span><br />clone <span class="kw">=</span> <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">,</span> luckyNumbers <span class="kw">:</span> <span class="kw">[</span><span class="dv">13</span><span class="kw">,</span> <span class="dv">27</span><span class="kw">,</span> <span class="dv">34</span><span class="kw">]}</span><br />moe <span class="kw">is</span> clone<br />show _<span class="kw">.</span>isEqual<span class="kw">(</span>moe<span class="kw">,</span> clone<span class="kw">)</span></code></pre>
<h4 id="isempty">isEmpty</h4>
<p><code>_.isEmpty object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> contains no values.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isEmpty<span class="kw">([</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">])</span><br />show _<span class="kw">.</span>isEmpty<span class="kw">({})</span></code></pre>
<h4 id="iselement">isElement</h4>
<p><code>_.isElement object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a DOM element.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isElement document<span class="kw">?.</span>getElementById <span class="st">'page'</span></code></pre>
<h4 id="isarray">isArray</h4>
<p><code>_.isArray object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is an Array.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show <span class="kw">(</span><span class="fu">-&gt;</span> _<span class="kw">.</span>isArray arguments<span class="kw">)()</span><br />show _<span class="kw">.</span>isArray <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span><span class="dv">2</span><span class="kw">,</span><span class="dv">3</span><span class="kw">]</span></code></pre>
<h4 id="isarguments">isArguments</h4>
<p><code>_.isArguments object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is an Arguments object.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show <span class="kw">(</span><span class="fu">-&gt;</span> _<span class="kw">.</span>isArguments arguments<span class="kw">)(</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">)</span><br />show _<span class="kw">.</span>isArguments <span class="kw">[</span><span class="dv">1</span><span class="kw">,</span><span class="dv">2</span><span class="kw">,</span><span class="dv">3</span><span class="kw">]</span></code></pre>
<h4 id="isfunction">isFunction</h4>
<p><code>_.isFunction object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a Function.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isFunction <span class="ot">console</span><span class="kw">?.</span>debug</code></pre>
<h4 id="isstring">isString</h4>
<p><code>_.isString object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a String.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isString <span class="st">&quot;moe&quot;</span></code></pre>
<h4 id="isnumber">isNumber</h4>
<p><code>_.isNumber object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a Number.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isNumber <span class="fl">8.4</span> <span class="kw">*</span> <span class="dv">5</span></code></pre>
<h4 id="isboolean">isBoolean</h4>
<p><code>_.isBoolean object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is either <em>true</em> or <em>false</em>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isBoolean <span class="ot">null</span></code></pre>
<h4 id="isdate">isDate</h4>
<p><code>_.isDate object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a Date.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isDate <span class="kw">new</span> <span class="dt">Date</span><span class="kw">()</span></code></pre>
<h4 id="isregexp">isRegExp</h4>
<p><code>_.isRegExp object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is a RegExp.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isRegExp <span class="st">/moe/</span></code></pre>
<h4 id="isnan">isNaN</h4>
<p><code>_.isNaN object</code></p>
<p>Returns <em>true</em> if <strong>object</strong> is <em>NaN</em>.</p>
<p>Note: this is not the same as the native <strong>isNaN</strong> function, which will also return true if the variable is <em>undefined</em>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span><span class="ot">isNaN</span> <span class="ot">NaN</span><br />show <span class="ot">isNaN</span> <span class="ot">undefined</span><br />show _<span class="kw">.</span><span class="ot">isNaN</span> <span class="ot">undefined</span></code></pre>
<h4 id="isnull">isNull</h4>
<p><code>_.isNull object</code></p>
<p>Returns <em>true</em> if the value of <strong>object</strong> is <em>null</em>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isNull <span class="ot">null</span><br />show _<span class="kw">.</span>isNull <span class="ot">undefined</span></code></pre>
<h4 id="isundefined">isUndefined</h4>
<p><code>_.isUndefined variable</code></p>
<p>Returns <em>true</em> if <strong>variable</strong> is <em>undefined</em>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>isUndefined window<span class="kw">?.</span>missingVariable</code></pre>
<h2 id="utility-functions">Utility Functions</h2>
<h4 id="noconflict">noConflict</h4>
<p><code>_.noConflict</code></p>
<p>Give control of the “_” variable back to its previous owner. Returns a reference to the <strong>Underscore</strong> object.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false"><span class="co"># The examples will stop working if this is enabled</span><br /><span class="co"># underscore = _.noConflict()</span></code></pre>
<h4 id="identity">identity</h4>
<p><code>_.identity value</code></p>
<p>Returns the same value that is used as the argument. In math: <code>f x = x</code></p>
<p>This function looks useless, but is used throughout Underscore as a default iterator.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">moe <span class="kw">=</span> <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">}</span><br />show moe <span class="kw">is</span> _<span class="kw">.</span>identity<span class="kw">(</span>moe<span class="kw">)</span></code></pre>
<h4 id="times">times</h4>
<p><code>_.times n, iterator</code></p>
<p>Invokes the given iterator function <strong>n</strong> times.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false"><span class="kw">(</span>genie <span class="kw">=</span> <span class="kw">{}).</span>grantWish <span class="kw">=</span> <span class="fu">-&gt;</span> show <span class="st">'Served'</span><br />_<span class="kw">(</span><span class="dv">3</span><span class="kw">).</span>times <span class="fu">-&gt;</span> genie<span class="kw">.</span>grantWish<span class="kw">()</span></code></pre>
<h4 id="mixin">mixin</h4>
<p><code>_.mixin object</code></p>
<p>Allows you to extend Underscore with your own utility functions. Pass a hash of <code>{name: function}</code> definitions to have your functions added to the Underscore object, as well as the OOP wrapper.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">_<span class="kw">.</span>mixin<br />  capitalize <span class="kw">:</span> <span class="fu">(string) -&gt;</span><br />    string<span class="kw">.</span>charAt<span class="kw">(</span><span class="dv">0</span><span class="kw">).</span>toUpperCase<span class="kw">()</span> <span class="kw">+</span><br />    string<span class="kw">.</span>substring<span class="kw">(</span><span class="dv">1</span><span class="kw">).</span>toLowerCase<span class="kw">()</span><br />show _<span class="kw">(</span><span class="st">&quot;fabio&quot;</span><span class="kw">).</span>capitalize<span class="kw">()</span></code></pre>
<h4 id="uniqueid">uniqueId</h4>
<p><code>_.uniqueId [prefix]</code></p>
<p>Generate a globally-unique id for client-side models or DOM elements that need one. If <strong>prefix</strong> is passed, the id will be appended to it.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span>uniqueId <span class="st">'contact_'</span><br />show _<span class="kw">.</span>uniqueId <span class="st">'contact_'</span></code></pre>
<h4 id="escape">escape</h4>
<p><code>_.escape string</code></p>
<p>Escapes a string for insertion into HTML, replacing <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&quot;</code>, <code>'</code>, and <code>/</code> characters.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">.</span><span class="ot">escape</span> <span class="st">'Curly, Larry &amp; Moe'</span></code></pre>
<h4 id="template">template</h4>
<p><code>_.template templateString, [context]</code></p>
<p>Compiles JavaScript templates into functions that can be evaluated for rendering. Useful for rendering complicated bits of HTML from JSON data sources. Template functions can both interpolate variables, using <code>&lt;%= ... %&gt;</code>, as well as execute arbitrary JavaScript code, with <code>&lt;% ... %&gt;</code>. If you wish to interpolate a value, and have it be HTML-escaped, use <code>&lt;%- ... %&gt;</code> When you evaluate a template function, pass in a <strong>context</strong> object that has properties corresponding to the template’s free variables. If you’re writing a one-off, you can pass the <strong>context</strong> object as the second parameter to <strong>template</strong> in order to render immediately instead of returning a template function.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">compiled <span class="kw">=</span> _<span class="kw">.</span>template <span class="st">&quot;hello: &lt;%= name %&gt;&quot;</span><br />show compiled name <span class="kw">:</span> <span class="st">'moe'</span></code></pre>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">list <span class="kw">=</span> <span class="st">&quot;&lt;% _.each(people, function(name) { %&gt; &lt;li&gt;&lt;%= name %&gt;&lt;/li&gt; &lt;% }); %&gt;&quot;</span><br />show _<span class="kw">.</span><span class="ot">escape</span> _<span class="kw">.</span>template list<span class="kw">,</span> people <span class="kw">:</span> <span class="kw">[</span><span class="st">'moe'</span><span class="kw">,</span> <span class="st">'curly'</span><span class="kw">,</span> <span class="st">'larry'</span><span class="kw">]</span></code></pre>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">template <span class="kw">=</span> _<span class="kw">.</span>template <span class="st">&quot;&lt;b&gt;&lt;%- value %&gt;&lt;/b&gt;&quot;</span><br />show _<span class="kw">.</span><span class="ot">escape</span> template value <span class="kw">:</span> <span class="st">'&lt;script&gt;'</span></code></pre>
<p>You can also use <code>print</code> from within JavaScript code. This is sometimes more convenient than using <code>&lt;%= ... %&gt;</code>.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">compiled <span class="kw">=</span> _<span class="kw">.</span>template <span class="st">&quot;&lt;% print('Hello ' + epithet) %&gt;&quot;</span><br />show compiled <span class="kw">{</span>epithet<span class="kw">:</span> <span class="st">&quot;stooge&quot;</span><span class="kw">}</span></code></pre>
<p>If ERB-style delimiters aren’t your cup of tea, you can change Underscore’s template settings to use different symbols to set off interpolated code. Define an <strong>interpolate</strong> regex, and an (optional) <strong>evaluate</strong> regex to match expressions that should be inserted and evaluated, respectively. If no <strong>evaluate</strong> regex is provided, your templates will only be capable of interpolating values. For example, to perform <a href="http://github.com/janl/mustache.js#readme">Mustache.js</a> style templating:</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">saveSettings <span class="kw">=</span> _<span class="kw">.</span>templateSettings<br />_<span class="kw">.</span>templateSettings <span class="kw">=</span> interpolate <span class="kw">:</span> <span class="st">/\{\{(.+?)\}\}/g</span><br /><br />template <span class="kw">=</span> _<span class="kw">.</span>template <span class="st">&quot;Hello {{ name }}!&quot;</span><br />show template name <span class="kw">:</span> <span class="st">&quot;Mustache&quot;</span><br /><br />_<span class="kw">.</span>templateSettings <span class="kw">=</span> saveSettings</code></pre>
<h2 id="chaining">Chaining</h2>
<h4 id="chain">chain</h4>
<p><code>_(obj).chain</code></p>
<p>Returns a wrapped object. Calling methods on this object will continue to return wrapped objects until <code>value</code> is used. ( <a href="#object-oriented-and-functional-styles">A more realistic example.</a>)</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">stooges <span class="kw">=</span> <span class="kw">[</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'curly'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">25</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'moe'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">21</span><span class="kw">}</span><br />  <span class="kw">{</span>name <span class="kw">:</span> <span class="st">'larry'</span><span class="kw">,</span> age <span class="kw">:</span> <span class="dv">23</span><span class="kw">}</span><br /><span class="kw">]</span><br />youngest <span class="kw">=</span> _<span class="kw">(</span>stooges<span class="kw">).</span>chain<span class="kw">()</span><br />  <span class="kw">.</span>sortBy<span class="kw">(</span><span class="fu">(stooge) -&gt;</span> stooge<span class="kw">.</span>age<span class="kw">)</span><br />  <span class="kw">.</span>map<span class="kw">(</span><span class="fu">(stooge) -&gt;</span> stooge<span class="kw">.</span>name <span class="kw">+</span> <span class="st">' is '</span> <span class="kw">+</span> stooge<span class="kw">.</span>age<span class="kw">)</span><br />  <span class="kw">.</span>first<span class="kw">()</span><br />  <span class="kw">.</span>value<span class="kw">()</span><br />show youngest</code></pre>
<h4 id="value">value</h4>
<p><code>_(obj).value</code></p>
<p>Extracts the value of a wrapped object.</p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show _<span class="kw">([</span><span class="dv">1</span><span class="kw">,</span> <span class="dv">2</span><span class="kw">,</span> <span class="dv">3</span><span class="kw">]).</span>value<span class="kw">()</span></code></pre>
<p><strong>The end</strong></p>
<pre class="sourceCode"><code class="sourceCode coffeescript" contenteditable="true" spellcheck="false">show <span class="st">'Delayed output will show up here'</span></code></pre>
<hr />
<p> </p>
<p> </p>
<p></p>
<p>Formats <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/underscore.coffee">CoffeeScript</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/underscore.md">Markdown</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/underscore.pdf">PDF</a> <a href="http://autotelicum.github.com/Smooth-CoffeeScript/literate/underscore.html">HTML</a></p>
<p>Underscore is under an MIT license © 2011</p>
<!--
Commands used to extract code, execute it, and to format this document:

Edit ,x/^~~+[   ]*{\.[cC]offee[sS]cript.*}$/+,/^~~+$/-p
Edit ,>ssam -n 'x/^~~+[   ]*{\.[cC]offee[sS]cript.*}$/+,/^~~+$/-' |cat embed-standalone.coffee - |tee underscore.coffee | coffee -cs >underscore.js; coffee underscore.coffee >underscore.output; plumb underscore.output
Edit ,>pandoc -f markdown -t html -S -5 --mathml --css pandoc-template.css --template pandoc-template.html -B embed-readability.html -B embed-literate.html | ssam 's/(<code class="sourceCode coffeescript" contenteditable="true" spellcheck="false")/\1 contenteditable=\"true\" spellcheck=\"false\"/g' | ssam 's/(<pre class="sourceCode")><(code class="sourceCode CoffeeScript")/\1 onclick=\"reveal(this)\" ><b><u>Example<\/u><\/b><br\/><\2 contenteditable=\"true\" spellcheck=\"false\" style=\"display:none\" \"/g' | ssam 's/<img src=\"[^\"]+\" alt=\"[^\"]+\" \/>/<canvas id=\"drawCanvas\" width=\"0\" height=\"0\"><\/canvas>/' >underscore.html; open underscore.html; plumb underscore.html
Edit ,>markdown2pdf --listings --xetex '--template=pandoc-template.tex' -o underscore.pdf; open underscore.pdf

To execute these commands; middle-button select them in the acme environment.
acme and ssam are part of the plan9 OS and can run on *nix variants via plan9port.
The formatting is done with pandoc, a universal markup converter, and TeX.
-->

</body>
</html>